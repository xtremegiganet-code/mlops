version: "1.0"

tasks:
  cleanup:
    description: "Clean temporary files and build artifacts"
    steps:
      - name: Remove node_modules
        run: rm -rf node_modules

      - name: Remove build and coverage directories
        run: rm -rf dist build coverage

      - name: Remove npm cache (optional)
        run: npm cache clean --force || true

  test:
    description: "Run unit tests using Jest"
    steps:
      - name: Install dependencies
        run: |
          npm install
          npm install --save-dev jest

      - name: Run Jest tests
        run: npx jest --coverage
